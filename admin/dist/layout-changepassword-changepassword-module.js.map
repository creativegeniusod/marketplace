{"version":3,"sources":["webpack:///./src/core/admin/profile/changepassword/changepassword-effect/changepassword.effect.ts","webpack:///./src/core/admin/profile/changepassword/changepassword-models/changepassword.model.ts","webpack:///./src/core/admin/profile/changepassword/changepassword-models/changepassword.response.model.ts","webpack:///./src/core/admin/profile/changepassword/changepassword-reducer/changepassword.selector.ts","webpack:///./src/core/admin/profile/changepassword/changepassword.sandbox.ts","webpack:///./src/core/admin/profile/changepassword/changepassword.service.ts","webpack:///./src/theme/default/admin/layout/changepassword/changepassword.component.html","webpack:///./src/theme/default/admin/layout/changepassword/changepassword.component.ts","webpack:///./src/theme/default/admin/layout/changepassword/changepassword.module.ts","webpack:///./src/theme/default/admin/layout/changepassword/changepassword.routing.ts"],"names":[],"mappings":"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","file":"layout-changepassword-changepassword-module.js","sourcesContent":["/*\n * spurtcommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 piccosoft ltd\n * Author piccosoft ltd <support@piccosoft.com>\n * Licensed under the MIT license.\n */\nimport { Injectable } from '@angular/core';\nimport { Effect, Actions, ofType } from '@ngrx/effects';\nimport { Action } from '@ngrx/store';\nimport { Observable, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\nimport * as actions from '../changepassword-action/changepassword.action';\nimport { catchError } from 'rxjs/internal/operators';\nimport { ChangePasswordService } from '../changepassword.service';\nimport { ChangepasswordResponseModel } from '../changepassword-models/changepassword.response.model';\n\n@Injectable()\nexport class ChangepasswordEffect {\n  constructor(\n    private action$: Actions,\n    private service: ChangePasswordService\n  ) {}\n\n  @Effect()\n  doChangePassword$: Observable<Action> = this.action$.pipe(\n    ofType(actions.ActionTypes.DO_CHANGE_PASWORD),\n    map((action: actions.DoChangePasswordAction) => action.payload),\n    switchMap(state => {\n      return this.service.changePassword(state).pipe(\n        switchMap(user => [\n          new actions.DoChangePasswordSucessAction(\n            new ChangepasswordResponseModel(user)\n          )\n        ]),\n        catchError(error => of(new actions.DoChangePasswordFailAction(error)))\n      );\n    })\n  );\n}\n","/*\n * spurtcommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 piccosoft ltd\n * Author piccosoft ltd <support@piccosoft.com>\n * Licensed under the MIT license.\n */\nexport class ChangePasswordForm {\n  public oldPassword: String;\n  public newPassword: String;\n\n  constructor(changePasswordForm: any) {\n    this.oldPassword = changePasswordForm.oldpsw || '';\n    this.newPassword = changePasswordForm.newpsw || '';\n  }\n}\n","/*\n * spurtcommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 piccosoft ltd\n * Author piccosoft ltd <support@piccosoft.com>\n * Licensed under the MIT license.\n */\nexport class ChangepasswordResponseModel {\n  public user: any = {};\n\n  constructor(changepasswordResponse: any) {\n    this.user = changepasswordResponse || '';\n  }\n}\n","/*\n * spurtcommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 piccosoft ltd\n * Author piccosoft ltd <support@piccosoft.com>\n * Licensed under the MIT license.\n */\nimport { createSelector } from 'reselect';\nimport * as fromChangepassword from './changepassword.reducer';\nimport { AppState } from '../../../../app.state.interface';\n// *************************** PUBLIC API's ****************************\n/**\n * Auth store functions\n */\nexport const getChangePasswordState = (state: AppState) => state.changepassword;\n\nexport const getChangePassword = createSelector(\n  getChangePasswordState,\n  fromChangepassword.getChangePassword\n);\nexport const getChangePasswordResponse = createSelector(\n  getChangePasswordState,\n  fromChangepassword.getChangePasswordResponse\n);\nexport const getChangePasswordRequestLoading = createSelector(\n  getChangePasswordState,\n  fromChangepassword.getChangePasswordRequestLoading\n);\nexport const getChangePasswordRequestLoaded = createSelector(\n  getChangePasswordState,\n  fromChangepassword.getChangePasswordRequestLoaded\n);\nexport const getChangePasswordRequestFailed = createSelector(\n  getChangePasswordState,\n  fromChangepassword.getChangePasswordRequestFailed\n);\n","/*\n* spurtcommerce\n* version 1.0\n* http://www.spurtcommerce.com\n*\n* Copyright (c) 2022 piccosoft ltd\n* Author piccosoft ltd <support@piccosoft.com>\n* Licensed under the MIT license.\n*/\nimport {Injectable} from '@angular/core';\nimport {Store} from '@ngrx/store';\nimport * as changepasswordActions from './changepassword-action/changepassword.action';\nimport {Subscription} from 'rxjs/index';\nimport * as store from '../../../app.state.interface';\nimport {Router} from '@angular/router';\nimport {ChangePasswordForm} from './changepassword-models/changepassword.model';\nimport {\n    getChangePassword, getChangePasswordRequestLoaded,\n    getChangePasswordRequestLoading, getChangePasswordResponse,\n    getChangePasswordRequestFailed\n} from './changepassword-reducer/changepassword.selector';\n\n@Injectable()\nexport class ChangepasswordSandbox {\n\n    public getChangePassword$ = this.appState.select(getChangePassword);\n    public getChangePasswordResponse$ = this.appState.select(getChangePasswordResponse);\n    public getChangePasswordRequestLoading$ = this.appState.select(getChangePasswordRequestLoading);\n    public getChangePasswordRequestLoade$ = this.appState.select(getChangePasswordRequestLoaded);\n    public getChangePasswordRequestFailed$ = this.appState.select(getChangePasswordRequestFailed);\n\n\n    private subscriptions: Array<Subscription> = [];\n\n    constructor(protected appState: Store<store.AppState>, private router: Router) {\n\n        this.subscribe();\n    }\n\n\n    public changePSW(value) {\n        this.appState.dispatch(new changepasswordActions.DoChangePasswordAction(new ChangePasswordForm(value)));\n    }\n\n    subscribe() {\n        this.subscriptions.push(this.getChangePassword$.subscribe(data => {\n            if (data) {\n                if (data.user) {\n                    if (data.user.status === 1) {\n                        this.router.navigate(['/catalog/product']);\n                    }\n                }\n            }\n        }));\n    }\n\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","/*\n * spurtcommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 piccosoft ltd\n * Author piccosoft ltd <support@piccosoft.com>\n * Licensed under the MIT license.\n */\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { HttpParams } from '@angular/common/http';\nimport { ChangePasswordForm } from './changepassword-models/changepassword.model';\nimport { Api } from '../../providers/api/api';\n\n@Injectable()\nexport class ChangePasswordService extends Api {\n  private URL = this.getBaseUrl();\n\n  // change psw\n  public changePassword(param: ChangePasswordForm): Observable<any> {\n    return this.http.put(this.URL + '/auth/change-password', param);\n  }\n}\n","module.exports = \"<div class=\\\"auth-wrapper\\\">\\n    <div class=\\\"auth-box on-sidebar\\\">\\n        <div class=\\\"changePswform\\\">\\n            <!-- Form -->\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-12\\\">\\n                    <form novalidate (ngSubmit)=\\\"onSubmit(changePassword.value)\\\" [formGroup]=\\\"changePassword\\\" class=\\\"form-horizontal m-t-20\\\">\\n\\n                        <h3>Change Password</h3>\\n                        <div class=\\\"input-group mb-4\\\">\\n                            <input [(ngModel)]=\\\"oldPSW\\\" required minlength=\\\"5\\\" type=\\\"password\\\" formControlName=\\\"oldPSW\\\" class=\\\"form-control form-control-md\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.oldPSW.errors }\\\" placeholder=\\\"Current Password\\\" aria-label=\\\"Current Password\\\" aria-describedby=\\\"basic-addon1\\\">\\n                            <div *ngIf=\\\"submitted && f.oldPSW.errors\\\" class=\\\"invalid-feedback\\\">\\n                                (minimum 5 characters).\\n                                <div *ngIf=\\\"f.oldPSW.errors.required\\\">Current Password is required\\n                                </div>\\n                            </div>\\n\\n                        </div>\\n                        <div class=\\\"input-group mb-4\\\">\\n                            <input [(ngModel)]=\\\"newPSW\\\" required minlength=\\\"5\\\" type=\\\"password\\\" formControlName=\\\"newPSW\\\" class=\\\"form-control form-control-md\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.newPSW.errors }\\\" placeholder=\\\"New Password\\\" aria-label=\\\"New Password\\\" aria-describedby=\\\"basic-addon2\\\">\\n                            <div *ngIf=\\\"submitted && f.newPSW.errors\\\" class=\\\"invalid-feedback\\\">\\n                                (minimum 5 characters).\\n                                <div *ngIf=\\\"f.newPSW.errors.required\\\">New Password is required\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"input-group mb-4\\\">\\n                            <input [(ngModel)]=\\\"confirmPSW\\\" required minlength=\\\"5\\\" type=\\\"password\\\" formControlName=\\\"confirmPSW\\\" class=\\\"form-control form-control-md\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.confirmPSW.errors }\\\" placeholder=\\\"Confirm Password\\\" aria-label=\\\"Confirm Password\\\"\\n                                aria-describedby=\\\"basic-addon2\\\">\\n                            <div *ngIf=\\\"submitted && f.confirmPSW.errors\\\" class=\\\"invalid-feedback\\\">\\n                                (minimum 5 characters).\\n                                <div *ngIf=\\\"f.confirmPSW.errors.required\\\">Confirm Password is required\\n\\n                                </div>\\n                                <div *ngIf=\\\"f.confirmPSW.errors.mismatchedPasswords\\\">New Password and Confirm password should Match </div>\\n\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group row\\\">\\n                            <div class=\\\"col-md-6\\\">\\n                                <div class=\\\"custom-control custom-checkbox\\\">\\n\\n                                </div>\\n                            </div>\\n                            <div class=\\\"col-md-6 p-b-20\\\">\\n                                <button class=\\\"btn btn-info  float-left\\\" [routerLink]=\\\"['/dashboard']\\\" routerLinkActive=\\\"router-link-active\\\">\\n                                    Cancel\\n                                </button>\\n                                <button class=\\\"btn btn-block btn-info  float-right\\\" type=\\\"submit\\\">\\n                                    Submit\\n                                </button>\\n                            </div>\\n                        </div>\\n                    </form>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n</div>\"","/*\n * SpurtCommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 PICCOSOFT\n * Author piccosoft <support@spurtcommerce.com>\n * Licensed under the MIT license.\n */\nimport { Component, OnInit } from '@angular/core';\nimport {\n  Validators,\n  FormGroup,\n  FormControl,\n  FormBuilder\n} from '@angular/forms';\nimport { ChangepasswordSandbox } from '../../../../../core/admin/profile/changepassword/changepassword.sandbox';\n\n@Component({\n  selector: 'app-spurt-changepassword',\n  templateUrl: './changepassword.component.html'\n})\nexport class ChangePasswordComponent implements OnInit {\n  // Variables\n  changePassword: FormGroup;\n  public submitted = false;\n  oldPSW: FormControl;\n  newPSW: FormControl;\n  confirmPSW: FormControl;\n\n  constructor(public fb: FormBuilder, public sandbox: ChangepasswordSandbox) {}\n\n  ngOnInit() {\n    this.initChangePswForm();\n  }\n\n  // InitFormGroup\n  initChangePswForm() {\n    this.changePassword = this.fb.group(\n      {\n        oldPSW: ['', Validators.required],\n        newPSW: ['', Validators.required],\n        confirmPSW: ['', Validators.required]\n      },\n      { validator: this.matchingPasswords('newPSW', 'confirmPSW') }\n    );\n  }\n\n  /**\n   * Handles form 'matchingPasswords' event. for conformation password.\n   * @param passwordKey for password value\n   * @param passwordConfirmationKey for Repassword value\n   */\n  matchingPasswords(passwordKey: string, passwordConfirmationKey: string) {\n    return (group: FormGroup) => {\n      const password = group.controls[passwordKey];\n      const passwordConfirmation = group.controls[passwordConfirmationKey];\n      if (password.value !== passwordConfirmation.value) {\n        return passwordConfirmation.setErrors({ mismatchedPasswords: true });\n      }\n    };\n  }\n\n  /**\n   * Handles form 'submit' event. Calls sandbox change password function if form is valid.\n   *\n   * @param event form event\n   * @param form entire form value\n   */\n  onSubmit(form) {\n    this.submitted = true;\n    if (this.changePassword.invalid) {\n      return;\n    }\n    const para: any = {};\n    para.oldpsw = this.changePassword.value.oldPSW;\n    para.newpsw = this.changePassword.value.newPSW;\n    this.sandbox.changePSW(para);\n  }\n\n  // form Validation\n  get f() {\n    return this.changePassword.controls;\n  }\n}\n","/*\n * SpurtCommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 PICCOSOFT\n * Author piccosoft <support@spurtcommerce.com>\n * Licensed under the MIT license.\n */\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { EffectsModule } from '@ngrx/effects';\nimport { ChangepasswordEffect } from '../../../../../core/admin/profile/changepassword/changepassword-effect/changepassword.effect';\nimport { ChangePasswordComponent } from './changepassword.component';\nimport { ChangepasswordSandbox } from '../../../../../core/admin/profile/changepassword/changepassword.sandbox';\nimport { ChangePasswordService } from '../../../../../core/admin/profile/changepassword/changepassword.service';\nimport { ChangePasswordRouting } from './changepassword.routing';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    NgbModule,\n    EffectsModule.forFeature([ChangepasswordEffect]),\n    ChangePasswordRouting,\n    ReactiveFormsModule,\n    FormsModule\n  ],\n  declarations: [ChangePasswordComponent],\n  providers: [ChangepasswordSandbox, ChangePasswordService]\n})\nexport class ChangePasswordModule {}\n","/*\n * SpurtCommerce\n * http://www.spurtcommerce.com\n *\n * Copyright (c) 2022 PICCOSOFT\n * Author piccosoft <support@spurtcommerce.com>\n * Licensed under the MIT license.\n */\nimport { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ChangePasswordComponent } from './changepassword.component';\n\nconst changePasswordRoutes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(changePasswordRoutes)],\n  exports: [RouterModule]\n})\nexport class ChangePasswordRouting {}\n"],"sourceRoot":""}